---
title: "公司和家里代码文件同步方案-git和dropbox实现"
date: 2018-07-21 11:41:48
tags: git
categories: "2018-07"
---

# 公司和家里代码文件同步方案: (git和dropbox实现)

> 参与公司福利购入了有补贴的macbook pro后, 就不用上下班背着电脑了.
> 但是也出现了另外一问题: **家里和公司代码同步的问题**
> 公司有同事用icloud进行同步代码. 这个方法也不错, icloud还是比较稳定的
> apple自己的东西, 采用 icloud 的文件夹同步是一个解决方案.
> **但是** 作为一个前端开发, node_modules 中的文件真是是让人很心痛,
> 占据空间, 并且同步也会很浪费时间. 所以我也希望网盘能够实现这种过滤一样的
> 同步.

鉴于以上的背景, 我没有太多研究同步的过滤. 不过 synology(群晖)的drive 倒是可以
设置的. 但是从公司到家里同步, 虽然有自己的 synology drive, 但是速度真的不行,
毕竟是走家里的上传网路, 借助 synology 的 connectId, 速度的连通并不是很快.

经过网上查找, 以及自己的 git 的一些了解, 找到了一个比较可行的同步方案.

## git 和 dropbox 配合同步(也可以是坚果云或者其他网盘, 看亲们的喜好, 你懂的...)

>  这里需要稍微说一下git, git之所以随时随地在本机进行提交(这也是我认为的区别于svn
> 的一个很根本的地方), 就是因为git的分布式处理. 每一个有git的地方都可以作为服务器,
> 也可以作为客户端. 每一个有git的地方都是可以互相进行提交的(稍微简单设置).

只需要简单的2步(比大象放进冰箱的步骤都少)

1. 将dropbox所同步的文件夹下新建git文件夹. 需要在对应的文件夹下执行

    ```
    git init --bare # 创建一个空的git容器
    ```
2. 将自己的代码库文件提交到 dropbox 同步的文件夹下.

   ```
   #在自己的代码块文件夹下增加另外一个 remote, 同你原来增加的 origin
   git remote add dropbox [/your/dropbox/file]
   #需要同步的话, 只需要执行一下
   git push dropbox --all
   ```

其实跟操作原来的分支是一个样子的, 只不过是增加了一个远端服务器, 不过这个**远端的服务器**
是在你自己的机器上的, 同步通过dropbox实现, 具体背书dropbox的太多了. 因为同步速度的确
很快, 当然前提是你可以访问dropbox.

## 其他的一些文件夹

其他文件夹可以不走git, 因为 dropbox 是可以通过**软链接**进行同步的. 我后来又想了下,
直接将文件放置在 dropbox 中就可以了. 然后在你需要的地方新建 dropbox 的软链接, 其实是一个样子的.

> 后记:
> 因为我有公司的vpn, 可以通过公司的网络进行 node_modules 的安装, 当然 node_modules 也是
> 可以通过公网进行安装的. 这是额外说的一些.
> 其实直接通过同步云盘进行同步也是可以的. 但是我对 git 尤其喜欢. 所以就想了下, 通过 git 进行实现, 同时很多其他的文件也可以通过此种方案进行实现.



