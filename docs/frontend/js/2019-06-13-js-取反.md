---
title: js-取反
date: 2019-06-13 14:24:08
tags:
categories: "2019-06"
---

正常的取反操作采用 ~ 就可以进行
原来的一个误解: 如下

> 正常的取反操作, 应该采用 掩码 异或的方式进行,
> 比如 取2的反, 应该用 3 ^ 2 进行 (3 是全1的操作)
> 参考网址:
> https://segmentfault.com/q/1010000005697515
>

实际上比如

2&(~2) // 结果为0, 如果按照我当初的理解, ~2为-3, 那么应该为 -11, 所以结果不会是0

实际上是0, 说明什么呢? 说明在计算机中的运算是正确的.

对于取反操作一直都是按照实际的存储进行的,
在计算机中是按照补码的方式进行存放的.

1. 整数的补码与原来的相同
2. 负数的补码需要除符号位取反+1

同理, 如果是一个实际的计算机中的二进制转换为我们的数据的话, 需要 -1, 然后取反.

### 示例

#### 2的取反(not 反码)
比如 2, 首先补码, 然后取反.(此时在计算机中就已经完成了, 但是为了按照10进制显示以及读取, 所以需要按照 -1, 取反的顺序进行处理)

```
//按照8位进行处理
2 => 00000010 => 11111101
  => 11111100(-1操作) => 10000011 (即 -3)
所以 2 的取反直接展示上就是 -3, 但是在计算机中展示的就是 (11111101)
```

如果 2 & (~2) 自然就是 0

#### -2 的取反 (not 反码)

```
//按照8位进行处理, 首先负数在计算机中的存储是以反码的形式, 所以先处理为反码
-2 => 10000010 => 11111101 => 11111110(+1)
=>00000001(取反) => 1(转换为10进制)
```

程序员从来不看比例, 只看有无